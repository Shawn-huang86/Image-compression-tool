# 图片压缩工具

一个纯前端的图片压缩工具，支持 JPEG/PNG/WebP/AVIF 格式的质量压缩与等比缩放。

## 功能特性

- ✅ **多格式支持**: JPEG、PNG、WebP、HEIC/HEIF
- ✅ **批量处理**: 支持多图同时压缩
- ✅ **拖拽上传**: 支持拖拽和点击选择
- ✅ **质量控制**: 0.1-1.0 质量滑块调节
- ✅ **尺寸限制**: 自定义最大宽高
- ✅ **预览对比**: 压缩前后效果对比
- ✅ **统计信息**: 显示文件大小、尺寸、压缩率
- ✅ **批量下载**: 单张下载或ZIP批量下载
- ✅ **响应式UI**: 支持移动端，暗色/浅色主题
- ✅ **性能优化**: Web Worker 防止主线程阻塞
- ✅ **EXIF处理**: 自动去除元数据并纠正旋转

## 快速开始

### 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

### StackBlitz 部署

1. 将所有文件上传到 StackBlitz
2. 确保 `package.json` 中的依赖已安装
3. 运行 `npm run dev` 启动项目

## 项目结构

```
src/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── main.ts            # 主应用逻辑
└── image-worker.ts    # Web Worker 图片处理
```

## 技术栈

- **TypeScript**: 类型安全的 JavaScript
- **Vite**: 快速构建工具
- **JSZip**: ZIP 文件生成
- **heic2any**: HEIC/HEIF 格式转换
- **Web Workers**: 并行图片处理
- **Canvas API**: 图片压缩和处理

## 验收测试

1. 打开页面，界面正常显示
2. 拖拽 10 张 4000x3000 的 JPG 图片
3. 设置压缩参数：最大宽度 2000px，质量 0.8
4. 点击"开始压缩"，页面无卡死现象
5. 查看每张图片的压缩前后对比
6. 验证文件大小、尺寸、压缩率显示正确
7. 测试单张下载和批量 ZIP 下载功能

## 浏览器支持

- Chrome 88+
- Firefox 90+
- Safari 14+
- Edge 88+

## 注意事项

- 所有处理均在本地完成，不上传到服务器
- 大文件处理时会自动使用 Web Worker 避免界面卡顿
- 支持的图片格式取决于浏览器支持情况
- HEIC/HEIF 格式会自动转换为 JPEG 格式进行处理
- EXIF 数据会被自动移除，但会保持正确的图片方向