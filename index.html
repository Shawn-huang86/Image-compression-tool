<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片压缩工具</title>
  <script type="module" crossorigin src="./assets/index-e_D_cu6C.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-CmOBEPdA.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1>图片压缩工具</h1>
            <p>现代简约设计，纯本地处理，保护您的隐私</p>
        </header>

        <!-- Main Content -->
        <main class="main-grid">
            <!-- Left Panel -->
            <div class="left-panel">
                <!-- Upload Card -->
                <div class="card upload-card">
                    <div class="card-header">
                        <h2 class="card-title">选择图片</h2>
                        <p class="card-description">支持 JPEG、PNG、WebP、HEIC 格式</p>
                    </div>
                    <div class="card-content">
                        <div class="upload-zone" id="uploadArea">
                            <div class="upload-content">
                                <div class="upload-icon">📁</div>
                                <div class="upload-text">拖拽图片到此处</div>
                                <div class="upload-hint">或点击下方按钮选择文件</div>
                                <input type="file" id="fileInput" multiple accept="image/*,.heic,.heif" hidden>
                                <button class="btn btn-primary" id="selectBtn">
                                    <span>选择图片</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Upload Status -->
                        <div class="upload-status" id="uploadStatus" style="display: none;">
                            <div class="status-item">
                                <span class="status-label">已选择:</span>
                                <span class="status-value" id="fileCount">0</span> 张图片
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Card -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">压缩设置</h2>
                        <p class="card-description">调整参数以获得最佳效果</p>
                    </div>
                    <div class="card-content" id="controlsSection">
                        <div class="settings-grid">
                            <div class="form-group">
                                <label class="form-label">压缩质量: <span id="qualityValue">0.8</span></label>
                                <input type="range" class="form-range" id="qualitySlider" min="0.1" max="1" step="0.1" value="0.8">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">最大宽度 (px)</label>
                                <input type="number" class="form-input" id="maxWidthInput" value="2000" min="100" max="8000">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">最大高度 (px)</label>
                                <input type="number" class="form-input" id="maxHeightInput" value="2000" min="100" max="8000">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">输出格式</label>
                                <select class="form-select" id="formatSelect">
                                    <option value="jpeg">JPEG</option>
                                    <option value="png">PNG</option>
                                    <option value="webp">WebP</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 0.75rem; margin-top: 1.5rem;">
                            <button class="btn btn-primary" id="compressBtn" style="flex: 1;">开始压缩</button>
                            <button class="btn btn-secondary" id="clearBtn">清空</button>
                        </div>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="card progress-section" id="progressSection" style="display: none;">
                    <div class="card-content">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p id="progressText" style="text-align: center; margin-top: 0.5rem; color: var(--gray-600);">处理中...</p>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <!-- Results Card -->
                <div class="card results-card">
                    <div class="card-header">
                        <div>
                            <h2 class="card-title">压缩结果</h2>
                            <p class="card-description">实时查看压缩效果</p>
                        </div>
                        <div class="results-controls">
                            <button class="btn btn-success" id="downloadAllBtn" style="display: none;">下载全部 (ZIP)</button>
                            <button class="btn btn-success" id="downloadSelectedBtn" style="display: none;">下载选中</button>
                        </div>
                    </div>
                    <div class="card-content">
                        <!-- Empty State -->
                        <div class="results-empty" id="resultsPlaceholder">
                            <div class="results-empty-icon">🖼️</div>
                            <div style="font-weight: 500; margin-bottom: 0.5rem;">暂无压缩结果</div>
                            <div style="font-size: 0.875rem;">选择图片并开始压缩后，结果将在这里显示</div>
                        </div>

                        <!-- Results Grid -->
                        <div class="results-grid" id="resultsGrid"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle">🌓</button>

</body>
</html>